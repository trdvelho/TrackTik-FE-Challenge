!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var i=0;i<t.length;i++){var e=t[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}(self.webpackChunkTracktikFeTest=self.webpackChunkTracktikFeTest||[]).push([[5753],{5753:function(i,e,o){"use strict";o.r(e),o.d(e,{SiteDetailPageModule:function(){return k}});var c=o(8583),a=o(665),s=o(3083),d=o(8739),r=o(4762),g=o(639),l=o(4419);function u(n,t){if(1&n&&(g.TgZ(0,"div"),g.TgZ(1,"strong"),g._uU(2),g.qZA(),g.qZA()),2&n){var i=g.oxw(2);g.xp6(2),g.Oqu(i.site.contacts.main.firstName+" "+i.site.contacts.main.lastName)}}function f(n,t){1&n&&(g.TgZ(0,"div"),g._uU(1,"First name:"),g.qZA())}var Z=function(n,t){return{"edit-mode":n,"not-editting-name":t}};function p(n,t){if(1&n){var i=g.EpF();g.TgZ(0,"input",21),g.NdJ("ngModelChange",function(n){return g.CHM(i),g.oxw(2).site.contacts.main.firstName=n}),g.qZA()}if(2&n){var e=g.oxw(2);g.Q6J("disabled",!e.editSite)("ngClass",g.WLB(3,Z,e.editSite,!e.editSite))("ngModel",e.site.contacts.main.firstName)}}function m(n,t){1&n&&(g.TgZ(0,"div"),g._uU(1,"Last name:"),g.qZA())}function C(n,t){if(1&n){var i=g.EpF();g.TgZ(0,"input",27),g.NdJ("ngModelChange",function(n){return g.CHM(i),g.oxw(2).site.contacts.main.lastName=n}),g.qZA()}if(2&n){var e=g.oxw(2);g.Q6J("disabled",!e.editSite)("ngClass",g.WLB(3,Z,e.editSite,!e.editSite))("ngModel",e.site.contacts.main.lastName)}}function M(n,t){1&n&&(g.TgZ(0,"div"),g._uU(1,"Job title:"),g.qZA())}function _(n,t){1&n&&(g.TgZ(0,"div"),g._uU(1,"Phone number:"),g.qZA())}function v(n,t){1&n&&(g.TgZ(0,"div"),g._uU(1,"Email:"),g.qZA())}function T(n,t){if(1&n&&(g.TgZ(0,"div"),g._uU(1),g.qZA()),2&n){var i=g.oxw(2);g.xp6(1),g.Oqu(i.getAddressInfo())}}var x=function(n,t){return{"edit-mode":n,"not-editting":t}};function A(n,t){if(1&n){var i=g.EpF();g.TgZ(0,"div",28),g.TgZ(1,"div"),g.TgZ(2,"span"),g._uU(3,"Street"),g.qZA(),g.TgZ(4,"input",21),g.NdJ("ngModelChange",function(n){return g.CHM(i),g.oxw(2).site.contacts.main.address.street=n}),g.qZA(),g.qZA(),g.TgZ(5,"div"),g.TgZ(6,"span"),g._uU(7,"City"),g.qZA(),g.TgZ(8,"input",21),g.NdJ("ngModelChange",function(n){return g.CHM(i),g.oxw(2).site.contacts.main.address.city=n}),g.qZA(),g.qZA(),g.TgZ(9,"div"),g.TgZ(10,"span"),g._uU(11,"State"),g.qZA(),g.TgZ(12,"input",21),g.NdJ("ngModelChange",function(n){return g.CHM(i),g.oxw(2).site.contacts.main.address.state=n}),g.qZA(),g.qZA(),g.TgZ(13,"div"),g.TgZ(14,"span"),g._uU(15,"zipCode"),g.qZA(),g.TgZ(16,"input",21),g.NdJ("ngModelChange",function(n){return g.CHM(i),g.oxw(2).site.contacts.main.address.zipCode=n}),g.qZA(),g.qZA(),g.qZA()}if(2&n){var e=g.oxw(2);g.xp6(4),g.Q6J("disabled",!e.editSite)("ngClass",g.WLB(12,x,e.editSite,!e.editSite))("ngModel",e.site.contacts.main.address.street),g.xp6(4),g.Q6J("disabled",!e.editSite)("ngClass",g.WLB(15,x,e.editSite,!e.editSite))("ngModel",e.site.contacts.main.address.city),g.xp6(4),g.Q6J("disabled",!e.editSite)("ngClass",g.WLB(18,x,e.editSite,!e.editSite))("ngModel",e.site.contacts.main.address.state),g.xp6(4),g.Q6J("disabled",!e.editSite)("ngClass",g.WLB(21,x,e.editSite,!e.editSite))("ngModel",e.site.contacts.main.address.zipCode)}}function h(n,t){if(1&n){var i=g.EpF();g.TgZ(0,"div",6),g.TgZ(1,"ion-row"),g.TgZ(2,"ion-col",7),g.TgZ(3,"ion-avatar"),g._UZ(4,"img",8),g.qZA(),g.qZA(),g.TgZ(5,"ion-col",9),g.TgZ(6,"div",10),g.TgZ(7,"ion-label"),g._uU(8),g.qZA(),g.TgZ(9,"div",11),g.TgZ(10,"strong"),g._uU(11,"Address:"),g.qZA(),g._uU(12),g.qZA(),g.TgZ(13,"div",11),g._uU(14),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(15,"div",12),g._UZ(16,"img",13),g.qZA(),g.TgZ(17,"ion-row",14),g.TgZ(18,"ion-col",15),g._UZ(19,"ion-icon",16),g.qZA(),g.TgZ(20,"ion-col",17),g.TgZ(21,"div"),g.YNc(22,u,3,1,"div",18),g.YNc(23,f,2,0,"div",18),g.YNc(24,p,1,6,"input",19),g.YNc(25,m,2,0,"div",18),g.YNc(26,C,1,6,"input",20),g.YNc(27,M,2,0,"div",18),g.TgZ(28,"input",21),g.NdJ("ngModelChange",function(n){return g.CHM(i),g.oxw().site.contacts.main.jobTitle=n}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(29,"ion-row",14),g.TgZ(30,"ion-col",15),g._UZ(31,"ion-icon",22),g.qZA(),g.TgZ(32,"ion-col",17),g.TgZ(33,"div"),g.YNc(34,_,2,0,"div",18),g.TgZ(35,"input",21),g.NdJ("ngModelChange",function(n){return g.CHM(i),g.oxw().site.contacts.main.phoneNumber=n}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(36,"ion-row",14),g.TgZ(37,"ion-col",15),g._UZ(38,"ion-icon",23),g.qZA(),g.TgZ(39,"ion-col",17),g.TgZ(40,"div",24),g.YNc(41,v,2,0,"div",18),g.TgZ(42,"input",21),g.NdJ("ngModelChange",function(n){return g.CHM(i),g.oxw().site.contacts.main.email=n}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(43,"ion-row",14),g.TgZ(44,"ion-col",15),g._UZ(45,"ion-icon",25),g.qZA(),g.TgZ(46,"ion-col",17),g.YNc(47,T,2,1,"div",18),g.YNc(48,A,17,24,"div",26),g.qZA(),g.qZA(),g.qZA()}if(2&n){var e=g.oxw();g.xp6(4),g.Q6J("src",e.site.images[0].replace(".com",".com.br"),g.LSH),g.xp6(4),g.Oqu(e.site.title),g.xp6(4),g.hij(" ",e.site.address.city,""),g.xp6(2),g.hij("Main contact: ",e.site.contacts.main.address.city,""),g.xp6(2),g.Q6J("src",e.site.images[0].replace(".com",".com.br"),g.LSH),g.xp6(6),g.Q6J("ngIf",!e.editSite),g.xp6(1),g.Q6J("ngIf",e.editSite),g.xp6(1),g.Q6J("ngIf",e.editSite),g.xp6(1),g.Q6J("ngIf",e.editSite),g.xp6(1),g.Q6J("ngIf",e.editSite),g.xp6(1),g.Q6J("ngIf",e.editSite),g.xp6(1),g.Q6J("disabled",!e.editSite)("ngClass",g.WLB(24,x,e.editSite,!e.editSite))("ngModel",e.site.contacts.main.jobTitle),g.xp6(6),g.Q6J("ngIf",e.editSite),g.xp6(1),g.Q6J("disabled",!e.editSite)("ngClass",g.WLB(27,x,e.editSite,!e.editSite))("ngModel",e.site.contacts.main.phoneNumber),g.xp6(6),g.Q6J("ngIf",e.editSite),g.xp6(1),g.Q6J("disabled",!e.editSite)("ngClass",g.WLB(30,x,e.editSite,!e.editSite))("ngModel",e.site.contacts.main.email),g.xp6(5),g.Q6J("ngIf",!e.editSite),g.xp6(1),g.Q6J("ngIf",e.editSite)}}function b(n,t){if(1&n){var i=g.EpF();g.TgZ(0,"ion-button",29),g.NdJ("click",function(){return g.CHM(i),g.oxw().isEditting()}),g._uU(1,"EDIT"),g.qZA()}}function q(n,t){if(1&n){var i=g.EpF();g.TgZ(0,"ion-button",30),g.NdJ("click",function(){return g.CHM(i),g.oxw().isEditting()}),g._uU(1,"CANCEL"),g.qZA()}}function O(n,t){if(1&n){var i=g.EpF();g.TgZ(0,"ion-button",31),g.NdJ("click",function(){return g.CHM(i),g.oxw().updateInfos()}),g._uU(1,"SAVE"),g.qZA()}}var P,S,w=[{path:"",component:(P=function(){function i(t,e,o){n(this,i),this.route=t,this.trackTickService=e,this.toastCtrl=o,this.editSite=!1}var e,o,c;return e=i,(o=[{key:"ngOnInit",value:function(){var n=this;this.route.params.subscribe(function(t){var i=t.id;n.trackTickService.getSiteDetail(i).then(function(t){console.log(t),n.site=t})})}},{key:"getAddressInfo",value:function(){return"".concat(this.site.contacts.main.address.street,", \n            ").concat(this.site.contacts.main.address.city,", ").concat(this.site.contacts.main.address.state,",\n            ").concat(this.site.contacts.main.address.zipCode)}},{key:"isEditting",value:function(){this.editSite=!this.editSite}},{key:"updateInfos",value:function(){var n=this;this.trackTickService.updateSite(this.site.id,this.site.contacts.main).then(function(t){return(0,r.mG)(n,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.site.contacts.main=t.contacts.main,this.editSite=!1,n.next=4,this.toastCtrl.create({message:"Contact updated successfully!",duration:2e3,position:"top"});case 4:n.sent.present(),console.log(t);case 6:case"end":return n.stop()}},n,this)}))})}}])&&t(e.prototype,o),c&&t(e,c),i}(),P.\u0275fac=function(n){return new(n||P)(g.Y36(d.gz),g.Y36(l.p),g.Y36(s.yF))},P.\u0275cmp=g.Xpm({type:P,selectors:[["app-site-detail"]],decls:17,vars:5,consts:[["slot","start"],[1,"title"],["class","main-content",4,"ngIf"],["expand","full","fill","solid",3,"click",4,"ngIf"],["fill","solid","color","danger",3,"click",4,"ngIf"],["fill","solid","color","primary",3,"click",4,"ngIf"],[1,"main-content"],["size","2",1,"avatar"],["onError","this.src='/assets/img/avatar-person.png'",3,"src"],["size","10"],[1,"site-infos"],[1,"subtitle"],[1,"contact-img"],["onError","this.src='/assets/img/no_image_available.jpeg'",3,"src"],[1,"main-contact-infos"],["size","1"],["name","person-outline"],["size","11"],[4,"ngIf"],[3,"disabled","ngClass","ngModel","ngModelChange",4,"ngIf"],["size","5",3,"disabled","ngClass","ngModel","ngModelChange",4,"ngIf"],[3,"disabled","ngClass","ngModel","ngModelChange"],["name","call-outline"],["name","mail-outline"],[1,"input-field"],["name","navigate-outline"],["class","edit-address",4,"ngIf"],["size","5",3,"disabled","ngClass","ngModel","ngModelChange"],[1,"edit-address"],["expand","full","fill","solid",3,"click"],["fill","solid","color","danger",3,"click"],["fill","solid","color","primary",3,"click"]],template:function(n,t){1&n&&(g.TgZ(0,"ion-header"),g.TgZ(1,"ion-toolbar"),g.TgZ(2,"ion-buttons",0),g._UZ(3,"ion-back-button"),g.qZA(),g.TgZ(4,"ion-title"),g.TgZ(5,"div",1),g._uU(6),g.TgZ(7,"span"),g._uU(8,"Site"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(9,"ion-content"),g.YNc(10,h,49,33,"div",2),g.qZA(),g.TgZ(11,"ion-footer"),g.TgZ(12,"ion-toolbar"),g.TgZ(13,"ion-buttons"),g.YNc(14,b,2,0,"ion-button",3),g.YNc(15,q,2,0,"ion-button",4),g.YNc(16,O,2,0,"ion-button",5),g.qZA(),g.qZA(),g.qZA()),2&n&&(g.xp6(6),g.hij("",t.editSite?"Edit":"View"," "),g.xp6(4),g.Q6J("ngIf",t.site),g.xp6(4),g.Q6J("ngIf",!t.editSite),g.xp6(1),g.Q6J("ngIf",t.editSite),g.xp6(1),g.Q6J("ngIf",t.editSite))},directives:[s.Gu,s.sr,s.Sm,s.oU,s.cs,s.wd,s.W2,c.O5,s.fr,s.Nd,s.wI,s.BJ,s.Q$,s.gu,a.Fj,c.mk,a.JJ,a.On,s.YG],styles:["ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:#f7f7f7;position:relative}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{position:absolute;left:0;font-size:30px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:25px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:var(--ion-tracktikred-color);padding:2px;color:#fff}ion-content[_ngcontent-%COMP%]{--background:#d3d3d3}.main-content[_ngcontent-%COMP%]   .site-infos[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:var(--ion-tracktikred-color);font-weight:700}.main-content[_ngcontent-%COMP%]   .contact-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;min-height:200px}.main-content[_ngcontent-%COMP%]   .main-contact-infos[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-tracktikred-color);display:flex;justify-content:flex-start;align-items:center;padding:5px 8px}.main-content[_ngcontent-%COMP%]   .main-contact-infos[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{width:100%}.main-content[_ngcontent-%COMP%]   .main-contact-infos[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.main-content[_ngcontent-%COMP%]   .main-contact-infos[_ngcontent-%COMP%]   .not-editting[_ngcontent-%COMP%]{border:3px solid #d3d3d3}.main-content[_ngcontent-%COMP%]   .main-contact-infos[_ngcontent-%COMP%]   .not-editting-name[_ngcontent-%COMP%]{background-color:transparent;border:none}.main-content[_ngcontent-%COMP%]   .main-contact-infos[_ngcontent-%COMP%]   .not-editting[_ngcontent-%COMP%]{border-radius:4px;width:350px;background-color:transparent}.main-content[_ngcontent-%COMP%]   .main-contact-infos[_ngcontent-%COMP%]   .edit-mode[_ngcontent-%COMP%]{border:1px solid #fff;width:350px;margin-top:2px}.main-content[_ngcontent-%COMP%]   .main-contact-infos[_ngcontent-%COMP%]   .edit-address[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center}.main-content[_ngcontent-%COMP%]   .main-contact-infos[_ngcontent-%COMP%]   .edit-address[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:3px}ion-footer[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around}ion-footer[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{border:5px;width:100%}"]}),P)}],J=function(){var t=function t(){n(this,t)};return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[d.Bz.forChild(w)],d.Bz]}),t}(),k=((S=function t(){n(this,t)}).\u0275fac=function(n){return new(n||S)},S.\u0275mod=g.oAB({type:S}),S.\u0275inj=g.cJS({imports:[[c.ez,a.u5,s.Pc,J]]}),S)}}])}();