(self.webpackChunkTracktikFeTest=self.webpackChunkTracktikFeTest||[]).push([[5753],{5753:function(t,n,i){"use strict";i.r(n),i.d(n,{SiteDetailPageModule:function(){return S}});var e=i(8583),o=i(665),c=i(3083),s=i(8739),a=i(4762),d=i(639),g=i(4419);function r(t,n){if(1&t&&(d.TgZ(0,"div"),d.TgZ(1,"strong"),d._uU(2),d.qZA(),d.qZA()),2&t){const t=d.oxw(2);d.xp6(2),d.Oqu(t.site.contacts.main.firstName+" "+t.site.contacts.main.lastName)}}function l(t,n){1&t&&(d.TgZ(0,"div"),d._uU(1,"First name:"),d.qZA())}const u=function(t,n){return{"edit-mode":t,"not-editting-name":n}};function Z(t,n){if(1&t){const t=d.EpF();d.TgZ(0,"input",21),d.NdJ("ngModelChange",function(n){return d.CHM(t),d.oxw(2).site.contacts.main.firstName=n}),d.qZA()}if(2&t){const t=d.oxw(2);d.Q6J("disabled",!t.editSite)("ngClass",d.WLB(3,u,t.editSite,!t.editSite))("ngModel",t.site.contacts.main.firstName)}}function f(t,n){1&t&&(d.TgZ(0,"div"),d._uU(1,"Last name:"),d.qZA())}function p(t,n){if(1&t){const t=d.EpF();d.TgZ(0,"input",27),d.NdJ("ngModelChange",function(n){return d.CHM(t),d.oxw(2).site.contacts.main.lastName=n}),d.qZA()}if(2&t){const t=d.oxw(2);d.Q6J("disabled",!t.editSite)("ngClass",d.WLB(3,u,t.editSite,!t.editSite))("ngModel",t.site.contacts.main.lastName)}}function m(t,n){1&t&&(d.TgZ(0,"div"),d._uU(1,"Job title:"),d.qZA())}function C(t,n){1&t&&(d.TgZ(0,"div"),d._uU(1,"Phone number:"),d.qZA())}function M(t,n){1&t&&(d.TgZ(0,"div"),d._uU(1,"Email:"),d.qZA())}function _(t,n){if(1&t&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&t){const t=d.oxw(2);d.xp6(1),d.Oqu(t.getAddressInfo())}}const T=function(t,n){return{"edit-mode":t,"not-editting":n}};function x(t,n){if(1&t){const t=d.EpF();d.TgZ(0,"div",28),d.TgZ(1,"div"),d.TgZ(2,"span"),d._uU(3,"Street"),d.qZA(),d.TgZ(4,"input",21),d.NdJ("ngModelChange",function(n){return d.CHM(t),d.oxw(2).site.contacts.main.address.street=n}),d.qZA(),d.qZA(),d.TgZ(5,"div"),d.TgZ(6,"span"),d._uU(7,"City"),d.qZA(),d.TgZ(8,"input",21),d.NdJ("ngModelChange",function(n){return d.CHM(t),d.oxw(2).site.contacts.main.address.city=n}),d.qZA(),d.qZA(),d.TgZ(9,"div"),d.TgZ(10,"span"),d._uU(11,"State"),d.qZA(),d.TgZ(12,"input",21),d.NdJ("ngModelChange",function(n){return d.CHM(t),d.oxw(2).site.contacts.main.address.state=n}),d.qZA(),d.qZA(),d.TgZ(13,"div"),d.TgZ(14,"span"),d._uU(15,"zipCode"),d.qZA(),d.TgZ(16,"input",21),d.NdJ("ngModelChange",function(n){return d.CHM(t),d.oxw(2).site.contacts.main.address.zipCode=n}),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=d.oxw(2);d.xp6(4),d.Q6J("disabled",!t.editSite)("ngClass",d.WLB(12,T,t.editSite,!t.editSite))("ngModel",t.site.contacts.main.address.street),d.xp6(4),d.Q6J("disabled",!t.editSite)("ngClass",d.WLB(15,T,t.editSite,!t.editSite))("ngModel",t.site.contacts.main.address.city),d.xp6(4),d.Q6J("disabled",!t.editSite)("ngClass",d.WLB(18,T,t.editSite,!t.editSite))("ngModel",t.site.contacts.main.address.state),d.xp6(4),d.Q6J("disabled",!t.editSite)("ngClass",d.WLB(21,T,t.editSite,!t.editSite))("ngModel",t.site.contacts.main.address.zipCode)}}function A(t,n){if(1&t){const t=d.EpF();d.TgZ(0,"div",6),d.TgZ(1,"ion-row"),d.TgZ(2,"ion-col",7),d.TgZ(3,"ion-avatar"),d._UZ(4,"img",8),d.qZA(),d.qZA(),d.TgZ(5,"ion-col",9),d.TgZ(6,"div",10),d.TgZ(7,"ion-label"),d._uU(8),d.qZA(),d.TgZ(9,"div",11),d.TgZ(10,"strong"),d._uU(11,"Address:"),d.qZA(),d._uU(12),d.qZA(),d.TgZ(13,"div",11),d._uU(14),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(15,"div",12),d._UZ(16,"img",13),d.qZA(),d.TgZ(17,"ion-row",14),d.TgZ(18,"ion-col",15),d._UZ(19,"ion-icon",16),d.qZA(),d.TgZ(20,"ion-col",17),d.TgZ(21,"div"),d.YNc(22,r,3,1,"div",18),d.YNc(23,l,2,0,"div",18),d.YNc(24,Z,1,6,"input",19),d.YNc(25,f,2,0,"div",18),d.YNc(26,p,1,6,"input",20),d.YNc(27,m,2,0,"div",18),d.TgZ(28,"input",21),d.NdJ("ngModelChange",function(n){return d.CHM(t),d.oxw().site.contacts.main.jobTitle=n}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(29,"ion-row",14),d.TgZ(30,"ion-col",15),d._UZ(31,"ion-icon",22),d.qZA(),d.TgZ(32,"ion-col",17),d.TgZ(33,"div"),d.YNc(34,C,2,0,"div",18),d.TgZ(35,"input",21),d.NdJ("ngModelChange",function(n){return d.CHM(t),d.oxw().site.contacts.main.phoneNumber=n}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(36,"ion-row",14),d.TgZ(37,"ion-col",15),d._UZ(38,"ion-icon",23),d.qZA(),d.TgZ(39,"ion-col",17),d.TgZ(40,"div",24),d.YNc(41,M,2,0,"div",18),d.TgZ(42,"input",21),d.NdJ("ngModelChange",function(n){return d.CHM(t),d.oxw().site.contacts.main.email=n}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(43,"ion-row",14),d.TgZ(44,"ion-col",15),d._UZ(45,"ion-icon",25),d.qZA(),d.TgZ(46,"ion-col",17),d.YNc(47,_,2,1,"div",18),d.YNc(48,x,17,24,"div",26),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=d.oxw();d.xp6(4),d.Q6J("src",t.site.images[0].replace(".com",".com.br"),d.LSH),d.xp6(4),d.Oqu(t.site.title),d.xp6(4),d.hij(" ",t.site.address.city,""),d.xp6(2),d.hij("Main contact: ",t.site.contacts.main.address.city,""),d.xp6(2),d.Q6J("src",t.site.images[0].replace(".com",".com.br"),d.LSH),d.xp6(6),d.Q6J("ngIf",!t.editSite),d.xp6(1),d.Q6J("ngIf",t.editSite),d.xp6(1),d.Q6J("ngIf",t.editSite),d.xp6(1),d.Q6J("ngIf",t.editSite),d.xp6(1),d.Q6J("ngIf",t.editSite),d.xp6(1),d.Q6J("ngIf",t.editSite),d.xp6(1),d.Q6J("disabled",!t.editSite)("ngClass",d.WLB(24,T,t.editSite,!t.editSite))("ngModel",t.site.contacts.main.jobTitle),d.xp6(6),d.Q6J("ngIf",t.editSite),d.xp6(1),d.Q6J("disabled",!t.editSite)("ngClass",d.WLB(27,T,t.editSite,!t.editSite))("ngModel",t.site.contacts.main.phoneNumber),d.xp6(6),d.Q6J("ngIf",t.editSite),d.xp6(1),d.Q6J("disabled",!t.editSite)("ngClass",d.WLB(30,T,t.editSite,!t.editSite))("ngModel",t.site.contacts.main.email),d.xp6(5),d.Q6J("ngIf",!t.editSite),d.xp6(1),d.Q6J("ngIf",t.editSite)}}function q(t,n){if(1&t){const t=d.EpF();d.TgZ(0,"ion-button",29),d.NdJ("click",function(){return d.CHM(t),d.oxw().isEditting()}),d._uU(1,"EDIT"),d.qZA()}}function h(t,n){if(1&t){const t=d.EpF();d.TgZ(0,"ion-button",30),d.NdJ("click",function(){return d.CHM(t),d.oxw().isEditting()}),d._uU(1,"CANCEL"),d.qZA()}}function O(t,n){if(1&t){const t=d.EpF();d.TgZ(0,"ion-button",31),d.NdJ("click",function(){return d.CHM(t),d.oxw().updateInfos()}),d._uU(1,"SAVE"),d.qZA()}}const b=[{path:"",component:(()=>{class t{constructor(t,n,i){this.route=t,this.trackTickService=n,this.toastCtrl=i,this.editSite=!1}ngOnInit(){this.route.params.subscribe(t=>{const{id:n}=t;this.trackTickService.getSiteDetail(n).then(t=>{console.log(t),this.site=t})})}getAddressInfo(){return`${this.site.contacts.main.address.street}, \n            ${this.site.contacts.main.address.city}, ${this.site.contacts.main.address.state},\n            ${this.site.contacts.main.address.zipCode}`}isEditting(){this.editSite=!this.editSite}updateInfos(){this.trackTickService.updateSite(this.site.id,this.site.contacts.main).then(t=>(0,a.mG)(this,void 0,void 0,function*(){this.site.contacts.main=t.contacts.main,this.editSite=!1,(yield this.toastCtrl.create({message:"Contact updated successfully!",duration:2e3,position:"top"})).present(),console.log(t)}))}}return t.\u0275fac=function(n){return new(n||t)(d.Y36(s.gz),d.Y36(g.p),d.Y36(c.yF))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-site-detail"]],decls:17,vars:5,consts:[["slot","start"],[1,"title"],["class","main-content",4,"ngIf"],["expand","full","fill","solid",3,"click",4,"ngIf"],["fill","solid","color","danger",3,"click",4,"ngIf"],["fill","solid","color","primary",3,"click",4,"ngIf"],[1,"main-content"],["size","2",1,"avatar"],["onError","this.src='/assets/img/avatar-person.png'",3,"src"],["size","10"],[1,"site-infos"],[1,"subtitle"],[1,"contact-img"],["onError","this.src='/assets/img/no_image_available.jpeg'",3,"src"],[1,"main-contact-infos"],["size","1"],["name","person-outline"],["size","11"],[4,"ngIf"],[3,"disabled","ngClass","ngModel","ngModelChange",4,"ngIf"],["size","5",3,"disabled","ngClass","ngModel","ngModelChange",4,"ngIf"],[3,"disabled","ngClass","ngModel","ngModelChange"],["name","call-outline"],["name","mail-outline"],[1,"input-field"],["name","navigate-outline"],["class","edit-address",4,"ngIf"],["size","5",3,"disabled","ngClass","ngModel","ngModelChange"],[1,"edit-address"],["expand","full","fill","solid",3,"click"],["fill","solid","color","danger",3,"click"],["fill","solid","color","primary",3,"click"]],template:function(t,n){1&t&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d._UZ(3,"ion-back-button"),d.qZA(),d.TgZ(4,"ion-title"),d.TgZ(5,"div",1),d._uU(6),d.TgZ(7,"span"),d._uU(8,"Site"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(9,"ion-content"),d.YNc(10,A,49,33,"div",2),d.qZA(),d.TgZ(11,"ion-footer"),d.TgZ(12,"ion-toolbar"),d.TgZ(13,"ion-buttons"),d.YNc(14,q,2,0,"ion-button",3),d.YNc(15,h,2,0,"ion-button",4),d.YNc(16,O,2,0,"ion-button",5),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(6),d.hij("",n.editSite?"Edit":"View"," "),d.xp6(4),d.Q6J("ngIf",n.site),d.xp6(4),d.Q6J("ngIf",!n.editSite),d.xp6(1),d.Q6J("ngIf",n.editSite),d.xp6(1),d.Q6J("ngIf",n.editSite))},directives:[c.Gu,c.sr,c.Sm,c.oU,c.cs,c.wd,c.W2,e.O5,c.fr,c.Nd,c.wI,c.BJ,c.Q$,c.gu,o.Fj,e.mk,o.JJ,o.On,c.YG],styles:["ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:#f7f7f7;position:relative}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{position:absolute;left:0;font-size:30px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:25px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:var(--ion-tracktikred-color);padding:2px;color:#fff}ion-content[_ngcontent-%COMP%]{--background:#d3d3d3}.main-content[_ngcontent-%COMP%]   .site-infos[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:var(--ion-tracktikred-color);font-weight:700}.main-content[_ngcontent-%COMP%]   .contact-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;min-height:200px}.main-content[_ngcontent-%COMP%]   .main-contact-infos[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-tracktikred-color);display:flex;justify-content:flex-start;align-items:center;padding:5px 8px}.main-content[_ngcontent-%COMP%]   .main-contact-infos[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{width:100%}.main-content[_ngcontent-%COMP%]   .main-contact-infos[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.main-content[_ngcontent-%COMP%]   .main-contact-infos[_ngcontent-%COMP%]   .not-editting[_ngcontent-%COMP%]{border:3px solid #d3d3d3}.main-content[_ngcontent-%COMP%]   .main-contact-infos[_ngcontent-%COMP%]   .not-editting-name[_ngcontent-%COMP%]{background-color:transparent;border:none}.main-content[_ngcontent-%COMP%]   .main-contact-infos[_ngcontent-%COMP%]   .not-editting[_ngcontent-%COMP%]{border-radius:4px;width:350px;background-color:transparent}.main-content[_ngcontent-%COMP%]   .main-contact-infos[_ngcontent-%COMP%]   .edit-mode[_ngcontent-%COMP%]{border:1px solid #fff;width:350px;margin-top:2px}.main-content[_ngcontent-%COMP%]   .main-contact-infos[_ngcontent-%COMP%]   .edit-address[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center}.main-content[_ngcontent-%COMP%]   .main-contact-infos[_ngcontent-%COMP%]   .edit-address[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:3px}ion-footer[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around}ion-footer[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{border:5px;width:100%}"]}),t})()}];let P=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[s.Bz.forChild(b)],s.Bz]}),t})(),S=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[e.ez,o.u5,c.Pc,P]]}),t})()}}]);